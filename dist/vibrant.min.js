!function t(r,n,o){function e(s,a){if(!n[s]){if(!r[s]){var h="function"==typeof require&&require;if(!a&&h)return h(s,!0);if(i)return i(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};r[s][0].call(c.exports,function(t){var n=r[s][1][t];return e(n?n:t)},c,c.exports,t,r,n,o)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<o.length;s++)e(o[s]);return e}({1:[function(t,r,n){function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function e(t,r,n){if(t&&u(t)&&t instanceof o)return t;var e=new o;return e.parse(t,r,n),e}function i(t){return h(t)&&(t=e(t)),t instanceof o?t.format():o.prototype.format.call(t)}function s(t,r){return e(t,!1,!0).resolve(r)}function a(t,r){return t?e(t,!1,!0).resolveObject(r):r}function h(t){return"string"==typeof t}function u(t){return"object"==typeof t&&null!==t}function c(t){return null===t}function p(t){return null==t}var f=t("punycode");n.parse=e,n.resolve=s,n.resolveObject=a,n.format=i,n.Url=o;var l=/^([a-z0-9.+-]+:)/i,g=/:[0-9]*$/,m=["<",">",'"',"`"," ","\r","\n","\t"],v=["{","}","|","\\","^","`"].concat(m),y=["'"].concat(v),d=["%","/","?",";","#"].concat(y),b=["/","?","#"],w=255,x=/^[a-z0-9A-Z_-]{0,63}$/,S=/^([a-z0-9A-Z_-]{0,63})(.*)$/,C={javascript:!0,"javascript:":!0},M={javascript:!0,"javascript:":!0},_={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},L=t("querystring");o.prototype.parse=function(t,r,n){if(!h(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t;o=o.trim();var e=l.exec(o);if(e){e=e[0];var i=e.toLowerCase();this.protocol=i,o=o.substr(e.length)}if(n||e||o.match(/^\/\/[^@\/]+@[^@\/]+/)){var s="//"===o.substr(0,2);!s||e&&M[e]||(o=o.substr(2),this.slashes=!0)}if(!M[e]&&(s||e&&!_[e])){for(var a=-1,u=0;u<b.length;u++){var c=o.indexOf(b[u]);c!==-1&&(a===-1||c<a)&&(a=c)}var p,g;g=a===-1?o.lastIndexOf("@"):o.lastIndexOf("@",a),g!==-1&&(p=o.slice(0,g),o=o.slice(g+1),this.auth=decodeURIComponent(p)),a=-1;for(var u=0;u<d.length;u++){var c=o.indexOf(d[u]);c!==-1&&(a===-1||c<a)&&(a=c)}a===-1&&(a=o.length),this.host=o.slice(0,a),o=o.slice(a),this.parseHost(),this.hostname=this.hostname||"";var m="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!m)for(var v=this.hostname.split(/\./),u=0,q=v.length;u<q;u++){var I=v[u];if(I&&!I.match(x)){for(var D="",O=0,V=I.length;O<V;O++)D+=I.charCodeAt(O)>127?"x":I[O];if(!D.match(x)){var A=v.slice(0,u),z=v.slice(u+1),k=I.match(S);k&&(A.push(k[1]),z.unshift(k[2])),z.length&&(o="/"+z.join(".")+o),this.hostname=A.join(".");break}}}if(this.hostname.length>w?this.hostname="":this.hostname=this.hostname.toLowerCase(),!m){for(var j=this.hostname.split("."),T=[],u=0;u<j.length;++u){var E=j[u];T.push(E.match(/[^A-Za-z0-9_-]/)?"xn--"+f.encode(E):E)}this.hostname=T.join(".")}var P=this.port?":"+this.port:"",R=this.hostname||"";this.host=R+P,this.href+=this.host,m&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==o[0]&&(o="/"+o))}if(!C[i])for(var u=0,q=y.length;u<q;u++){var U=y[u],H=encodeURIComponent(U);H===U&&(H=escape(U)),o=o.split(U).join(H)}var F=o.indexOf("#");F!==-1&&(this.hash=o.substr(F),o=o.slice(0,F));var N=o.indexOf("?");if(N!==-1?(this.search=o.substr(N),this.query=o.substr(N+1),r&&(this.query=L.parse(this.query)),o=o.slice(0,N)):r&&(this.search="",this.query={}),o&&(this.pathname=o),_[i]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var P=this.pathname||"",E=this.search||"";this.path=P+E}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var r=this.protocol||"",n=this.pathname||"",o=this.hash||"",e=!1,i="";this.host?e=t+this.host:this.hostname&&(e=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(e+=":"+this.port)),this.query&&u(this.query)&&Object.keys(this.query).length&&(i=L.stringify(this.query));var s=this.search||i&&"?"+i||"";return r&&":"!==r.substr(-1)&&(r+=":"),this.slashes||(!r||_[r])&&e!==!1?(e="//"+(e||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):e||(e=""),o&&"#"!==o.charAt(0)&&(o="#"+o),s&&"?"!==s.charAt(0)&&(s="?"+s),n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),s=s.replace("#","%23"),r+e+n+s+o},o.prototype.resolve=function(t){return this.resolveObject(e(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(h(t)){var r=new o;r.parse(t,!1,!0),t=r}var n=new o;if(Object.keys(this).forEach(function(t){n[t]=this[t]},this),n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol)return Object.keys(t).forEach(function(r){"protocol"!==r&&(n[r]=t[r])}),_[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n;if(t.protocol&&t.protocol!==n.protocol){if(!_[t.protocol])return Object.keys(t).forEach(function(r){n[r]=t[r]}),n.href=n.format(),n;if(n.protocol=t.protocol,t.host||M[t.protocol])n.pathname=t.pathname;else{for(var e=(t.pathname||"").split("/");e.length&&!(t.host=e.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==e[0]&&e.unshift(""),e.length<2&&e.unshift(""),n.pathname=e.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var i=n.pathname||"",s=n.search||"";n.path=i+s}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var a=n.pathname&&"/"===n.pathname.charAt(0),u=t.host||t.pathname&&"/"===t.pathname.charAt(0),f=u||a||n.host&&t.pathname,l=f,g=n.pathname&&n.pathname.split("/")||[],e=t.pathname&&t.pathname.split("/")||[],m=n.protocol&&!_[n.protocol];if(m&&(n.hostname="",n.port=null,n.host&&(""===g[0]?g[0]=n.host:g.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===e[0]?e[0]=t.host:e.unshift(t.host)),t.host=null),f=f&&(""===e[0]||""===g[0])),u)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,g=e;else if(e.length)g||(g=[]),g.pop(),g=g.concat(e),n.search=t.search,n.query=t.query;else if(!p(t.search)){if(m){n.hostname=n.host=g.shift();var v=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");v&&(n.auth=v.shift(),n.host=n.hostname=v.shift())}return n.search=t.search,n.query=t.query,c(n.pathname)&&c(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!g.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var y=g.slice(-1)[0],d=(n.host||t.host)&&("."===y||".."===y)||""===y,b=0,w=g.length;w>=0;w--)y=g[w],"."==y?g.splice(w,1):".."===y?(g.splice(w,1),b++):b&&(g.splice(w,1),b--);if(!f&&!l)for(;b--;b)g.unshift("..");!f||""===g[0]||g[0]&&"/"===g[0].charAt(0)||g.unshift(""),d&&"/"!==g.join("/").substr(-1)&&g.push("");var x=""===g[0]||g[0]&&"/"===g[0].charAt(0);if(m){n.hostname=n.host=x?"":g.length?g.shift():"";var v=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");v&&(n.auth=v.shift(),n.host=n.hostname=v.shift())}return f=f||n.host&&g.length,f&&!x&&g.unshift(""),g.length?n.pathname=g.join("/"):(n.pathname=null,n.path=null),c(n.pathname)&&c(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var t=this.host,r=g.exec(t);r&&(r=r[0],":"!==r&&(this.port=r.substr(1)),t=t.substr(0,t.length-r.length)),t&&(this.hostname=t)}},{punycode:2,querystring:6}],2:[function(t,r,n){(function(t){!function(o){function e(t){throw new RangeError(z[t])}function i(t,r){for(var n=t.length,o=[];n--;)o[n]=r(t[n]);return o}function s(t,r){var n=t.split("@"),o="";n.length>1&&(o=n[0]+"@",t=n[1]),t=t.replace(A,".");var e=t.split("."),s=i(e,r).join(".");return o+s}function a(t){for(var r,n,o=[],e=0,i=t.length;e<i;)r=t.charCodeAt(e++),r>=55296&&r<=56319&&e<i?(n=t.charCodeAt(e++),56320==(64512&n)?o.push(((1023&r)<<10)+(1023&n)+65536):(o.push(r),e--)):o.push(r);return o}function h(t){return i(t,function(t){var r="";return t>65535&&(t-=65536,r+=T(t>>>10&1023|55296),t=56320|1023&t),r+=T(t)}).join("")}function u(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:S}function c(t,r){return t+22+75*(t<26)-((0!=r)<<5)}function p(t,r,n){var o=0;for(t=n?j(t/L):t>>1,t+=j(t/r);t>k*M>>1;o+=S)t=j(t/k);return j(o+(k+1)*t/(t+_))}function f(t){var r,n,o,i,s,a,c,f,l,g,m=[],v=t.length,y=0,d=I,b=q;for(n=t.lastIndexOf(D),n<0&&(n=0),o=0;o<n;++o)t.charCodeAt(o)>=128&&e("not-basic"),m.push(t.charCodeAt(o));for(i=n>0?n+1:0;i<v;){for(s=y,a=1,c=S;i>=v&&e("invalid-input"),f=u(t.charCodeAt(i++)),(f>=S||f>j((x-y)/a))&&e("overflow"),y+=f*a,l=c<=b?C:c>=b+M?M:c-b,!(f<l);c+=S)g=S-l,a>j(x/g)&&e("overflow"),a*=g;r=m.length+1,b=p(y-s,r,0==s),j(y/r)>x-d&&e("overflow"),d+=j(y/r),y%=r,m.splice(y++,0,d)}return h(m)}function l(t){var r,n,o,i,s,h,u,f,l,g,m,v,y,d,b,w=[];for(t=a(t),v=t.length,r=I,n=0,s=q,h=0;h<v;++h)m=t[h],m<128&&w.push(T(m));for(o=i=w.length,i&&w.push(D);o<v;){for(u=x,h=0;h<v;++h)m=t[h],m>=r&&m<u&&(u=m);for(y=o+1,u-r>j((x-n)/y)&&e("overflow"),n+=(u-r)*y,r=u,h=0;h<v;++h)if(m=t[h],m<r&&++n>x&&e("overflow"),m==r){for(f=n,l=S;g=l<=s?C:l>=s+M?M:l-s,!(f<g);l+=S)b=f-g,d=S-g,w.push(T(c(g+b%d,0))),f=j(b/d);w.push(T(c(f,0))),s=p(n,y,o==i),n=0,++o}++n,++r}return w.join("")}function g(t){return s(t,function(t){return O.test(t)?f(t.slice(4).toLowerCase()):t})}function m(t){return s(t,function(t){return V.test(t)?"xn--"+l(t):t})}var v="object"==typeof n&&n&&!n.nodeType&&n,y="object"==typeof r&&r&&!r.nodeType&&r,d="object"==typeof t&&t;d.global!==d&&d.window!==d&&d.self!==d||(o=d);var b,w,x=2147483647,S=36,C=1,M=26,_=38,L=700,q=72,I=128,D="-",O=/^xn--/,V=/[^\x20-\x7E]/,A=/[\x2E\u3002\uFF0E\uFF61]/g,z={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},k=S-C,j=Math.floor,T=String.fromCharCode;if(b={version:"1.4.1",ucs2:{decode:a,encode:h},decode:f,encode:l,toASCII:m,toUnicode:g},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return b});else if(v&&y)if(r.exports==v)y.exports=b;else for(w in b)b.hasOwnProperty(w)&&(v[w]=b[w]);else o.punycode=b}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(t,r,n){if(!o)var o={map:function(t,r){var n={};return r?t.map(function(t,o){return n.index=o,r.call(n,t)}):t.slice()},naturalOrder:function(t,r){return t<r?-1:t>r?1:0},sum:function(t,r){var n={};return t.reduce(r?function(t,o,e){return n.index=e,t+r.call(n,o)}:function(t,r){return t+r},0)},max:function(t,r){return Math.max.apply(null,r?o.map(t,r):t)}};var e=function(){function t(t,r,n){return(t<<2*u)+(r<<u)+n}function r(t){function r(){n.sort(t),o=!0}var n=[],o=!1;return{push:function(t){n.push(t),o=!1},peek:function(t){return o||r(),void 0===t&&(t=n.length-1),n[t]},pop:function(){return o||r(),n.pop()},size:function(){return n.length},map:function(t){return n.map(t)},debug:function(){return o||r(),n}}}function n(t,r,n,o,e,i,s){var a=this;a.r1=t,a.r2=r,a.g1=n,a.g2=o,a.b1=e,a.b2=i,a.histo=s}function e(){this.vboxes=new r(function(t,r){return o.naturalOrder(t.vbox.count()*t.vbox.volume(),r.vbox.count()*r.vbox.volume())})}function i(r){var n,o,e,i,s=1<<3*u,a=new Array(s);return r.forEach(function(r){o=r[0]>>c,e=r[1]>>c,i=r[2]>>c,n=t(o,e,i),a[n]=(a[n]||0)+1}),a}function s(t,r){var o,e,i,s=1e6,a=0,h=1e6,u=0,p=1e6,f=0;return t.forEach(function(t){o=t[0]>>c,e=t[1]>>c,i=t[2]>>c,o<s?s=o:o>a&&(a=o),e<h?h=e:e>u&&(u=e),i<p?p=i:i>f&&(f=i)}),new n(s,a,h,u,p,f,r)}function a(r,n){function e(t){var r,o,e,i,s,a=t+"1",h=t+"2",c=0;for(u=n[a];u<=n[h];u++)if(m[u]>g/2){for(e=n.copy(),i=n.copy(),r=u-n[a],o=n[h]-u,s=r<=o?Math.min(n[h]-1,~~(u+o/2)):Math.max(n[a],~~(u-1-r/2));!m[s];)s++;for(c=v[s];!c&&m[s-1];)c=v[--s];return e[h]=s,i[a]=e[h]+1,[e,i]}}if(n.count()){var i=n.r2-n.r1+1,s=n.g2-n.g1+1,a=n.b2-n.b1+1,h=o.max([i,s,a]);if(1==n.count())return[n.copy()];var u,c,p,f,l,g=0,m=[],v=[];if(h==i)for(u=n.r1;u<=n.r2;u++){for(f=0,c=n.g1;c<=n.g2;c++)for(p=n.b1;p<=n.b2;p++)l=t(u,c,p),f+=r[l]||0;g+=f,m[u]=g}else if(h==s)for(u=n.g1;u<=n.g2;u++){for(f=0,c=n.r1;c<=n.r2;c++)for(p=n.b1;p<=n.b2;p++)l=t(c,u,p),f+=r[l]||0;g+=f,m[u]=g}else for(u=n.b1;u<=n.b2;u++){for(f=0,c=n.r1;c<=n.r2;c++)for(p=n.g1;p<=n.g2;p++)l=t(c,p,u),f+=r[l]||0;g+=f,m[u]=g}return m.forEach(function(t,r){v[r]=g-t}),e(h==i?"r":h==s?"g":"b")}}function h(t,n){function h(t,r){for(var n,o=1,e=0;e<p;)if(n=t.pop(),n.count()){var i=a(u,n),s=i[0],h=i[1];if(!s)return;if(t.push(s),h&&(t.push(h),o++),o>=r)return;if(e++>p)return}else t.push(n),e++}if(!t.length||n<2||n>256)return!1;var u=i(t),c=0;u.forEach(function(){c++});var l=s(t,u),g=new r(function(t,r){return o.naturalOrder(t.count(),r.count())});g.push(l),h(g,f*n);for(var m=new r(function(t,r){return o.naturalOrder(t.count()*t.volume(),r.count()*r.volume())});g.size();)m.push(g.pop());h(m,n-m.size());for(var v=new e;m.size();)v.push(m.pop());return v}var u=5,c=8-u,p=1e3,f=.75;return n.prototype={volume:function(t){var r=this;return r._volume&&!t||(r._volume=(r.r2-r.r1+1)*(r.g2-r.g1+1)*(r.b2-r.b1+1)),r._volume},count:function(r){var n=this,o=n.histo;if(!n._count_set||r){var e,i,s,a,h=0;for(e=n.r1;e<=n.r2;e++)for(i=n.g1;i<=n.g2;i++)for(s=n.b1;s<=n.b2;s++)a=t(e,i,s),h+=o[a]||0;n._count=h,n._count_set=!0}return n._count},copy:function(){var t=this;return new n(t.r1,t.r2,t.g1,t.g2,t.b1,t.b2,t.histo)},avg:function(r){var n=this,o=n.histo;if(!n._avg||r){var e,i,s,a,h,c=0,p=1<<8-u,f=0,l=0,g=0;for(i=n.r1;i<=n.r2;i++)for(s=n.g1;s<=n.g2;s++)for(a=n.b1;a<=n.b2;a++)h=t(i,s,a),e=o[h]||0,c+=e,f+=e*(i+.5)*p,l+=e*(s+.5)*p,g+=e*(a+.5)*p;c?n._avg=[~~(f/c),~~(l/c),~~(g/c)]:n._avg=[~~(p*(n.r1+n.r2+1)/2),~~(p*(n.g1+n.g2+1)/2),~~(p*(n.b1+n.b2+1)/2)]}return n._avg},contains:function(t){var r=this,n=t[0]>>c;return gval=t[1]>>c,bval=t[2]>>c,n>=r.r1&&n<=r.r2&&gval>=r.g1&&gval<=r.g2&&bval>=r.b1&&bval<=r.b2}},e.prototype={push:function(t){this.vboxes.push({vbox:t,color:t.avg()})},palette:function(){return this.vboxes.map(function(t){return t.color})},size:function(){return this.vboxes.size()},map:function(t){for(var r=this.vboxes,n=0;n<r.size();n++)if(r.peek(n).vbox.contains(t))return r.peek(n).color;return this.nearest(t)},nearest:function(t){for(var r,n,o,e=this.vboxes,i=0;i<e.size();i++)n=Math.sqrt(Math.pow(t[0]-e.peek(i).color[0],2)+Math.pow(t[1]-e.peek(i).color[1],2)+Math.pow(t[2]-e.peek(i).color[2],2)),(n<r||void 0===r)&&(r=n,o=e.peek(i).color);return o},forcebw:function(){var t=this.vboxes;t.sort(function(t,r){return o.naturalOrder(o.sum(t.color),o.sum(r.color))});var r=t[0].color;r[0]<5&&r[1]<5&&r[2]<5&&(t[0].color=[0,0,0]);var n=t.length-1,e=t[n].color;e[0]>251&&e[1]>251&&e[2]>251&&(t[n].color=[255,255,255])}},{quantize:h}}();r.exports=e.quantize},{}],4:[function(t,r,n){"use strict";function o(t,r){return Object.prototype.hasOwnProperty.call(t,r)}r.exports=function(t,r,n,i){r=r||"&",n=n||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(r);var h=1e3;i&&"number"==typeof i.maxKeys&&(h=i.maxKeys);var u=t.length;h>0&&u>h&&(u=h);for(var c=0;c<u;++c){var p,f,l,g,m=t[c].replace(a,"%20"),v=m.indexOf(n);v>=0?(p=m.substr(0,v),f=m.substr(v+1)):(p=m,f=""),l=decodeURIComponent(p),g=decodeURIComponent(f),o(s,l)?e(s[l])?s[l].push(g):s[l]=[s[l],g]:s[l]=g}return s};var e=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],5:[function(t,r,n){"use strict";function o(t,r){if(t.map)return t.map(r);for(var n=[],o=0;o<t.length;o++)n.push(r(t[o],o));return n}var e=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};r.exports=function(t,r,n,a){return r=r||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?o(s(t),function(s){var a=encodeURIComponent(e(s))+n;return i(t[s])?o(t[s],function(t){return a+encodeURIComponent(e(t))}).join(r):a+encodeURIComponent(e(t[s]))}).join(r):a?encodeURIComponent(e(a))+n+encodeURIComponent(e(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},s=Object.keys||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.push(n);return r}},{}],6:[function(t,r,n){"use strict";n.decode=n.parse=t("./decode"),n.encode=n.stringify=t("./encode")},{"./decode":4,"./encode":5}],7:[function(t,r,n){var o;o=t("./vibrant"),o.DefaultOpts.Image=t("./image/browser"),r.exports=o},{"./image/browser":13,"./vibrant":22}],8:[function(t,r,n){var o;window.Vibrant=o=t("./browser")},{"./browser":7}],9:[function(t,r,n){r.exports=function(t,r,n,o){return o>=125&&!(t>250&&r>250&&n>250)}},{}],10:[function(t,r,n){r.exports.Default=t("./default")},{"./default":9}],11:[function(t,r,n){var o,e,i,s,a,h=function(t,r){function n(){this.constructor=t}for(var o in r)u.call(r,o)&&(t[o]=r[o]);return n.prototype=r.prototype,t.prototype=new n,t.__super__=r.prototype,t},u={}.hasOwnProperty,c=[].slice;s=t("../swatch"),a=t("../util"),i=t("./index"),e={targetDarkLuma:.26,maxDarkLuma:.45,minLightLuma:.55,targetLightLuma:.74,minNormalLuma:.3,targetNormalLuma:.5,maxNormalLuma:.7,targetMutesSaturation:.3,maxMutesSaturation:.4,targetVibrantSaturation:1,minVibrantSaturation:.35,weightSaturation:3,weightLuma:6,weightPopulation:1},r.exports=o=function(t){function r(t){this.opts=a.defaults(t,e),this.VibrantSwatch=null,this.LightVibrantSwatch=null,this.DarkVibrantSwatch=null,this.MutedSwatch=null,this.LightMutedSwatch=null,this.DarkMutedSwatch=null}return h(r,t),r.prototype.generate=function(t){return this.swatches=t,this.maxPopulation=this.findMaxPopulation(),this.generateVarationColors(),this.generateEmptySwatches()},r.prototype.getVibrantSwatch=function(){return this.VibrantSwatch},r.prototype.getLightVibrantSwatch=function(){return this.LightVibrantSwatch},r.prototype.getDarkVibrantSwatch=function(){return this.DarkVibrantSwatch},r.prototype.getMutedSwatch=function(){return this.MutedSwatch},r.prototype.getLightMutedSwatch=function(){return this.LightMutedSwatch},r.prototype.getDarkMutedSwatch=function(){return this.DarkMutedSwatch},r.prototype.generateVarationColors=function(){return this.VibrantSwatch=this.findColorVariation(this.opts.targetNormalLuma,this.opts.minNormalLuma,this.opts.maxNormalLuma,this.opts.targetVibrantSaturation,this.opts.minVibrantSaturation,1),this.LightVibrantSwatch=this.findColorVariation(this.opts.targetLightLuma,this.opts.minLightLuma,1,this.opts.targetVibrantSaturation,this.opts.minVibrantSaturation,1),this.DarkVibrantSwatch=this.findColorVariation(this.opts.targetDarkLuma,0,this.opts.maxDarkLuma,this.opts.targetVibrantSaturation,this.opts.minVibrantSaturation,1),this.MutedSwatch=this.findColorVariation(this.opts.targetNormalLuma,this.opts.minNormalLuma,this.opts.maxNormalLuma,this.opts.targetMutesSaturation,0,this.opts.maxMutesSaturation),this.LightMutedSwatch=this.findColorVariation(this.opts.targetLightLuma,this.opts.minLightLuma,1,this.opts.targetMutesSaturation,0,this.opts.maxMutesSaturation),this.DarkMutedSwatch=this.findColorVariation(this.opts.targetDarkLuma,0,this.opts.maxDarkLuma,this.opts.targetMutesSaturation,0,this.opts.maxMutesSaturation)},r.prototype.generateEmptySwatches=function(){var t;if(null===this.VibrantSwatch&&null!==this.DarkVibrantSwatch&&(t=this.DarkVibrantSwatch.getHsl(),t[2]=this.opts.targetNormalLuma,this.VibrantSwatch=new s(a.hslToRgb(t[0],t[1],t[2]),0)),null===this.DarkVibrantSwatch&&null!==this.VibrantSwatch)return t=this.VibrantSwatch.getHsl(),t[2]=this.opts.targetDarkLuma,this.DarkVibrantSwatch=new s(a.hslToRgb(t[0],t[1],t[2]),0)},r.prototype.findMaxPopulation=function(){var t,r,n,o,e;for(n=0,o=this.swatches,t=0,r=o.length;t<r;t++)e=o[t],n=Math.max(n,e.getPopulation());return n},r.prototype.findColorVariation=function(t,r,n,o,e,i){var s,a,h,u,c,p,f,l,g;for(u=null,c=0,p=this.swatches,s=0,a=p.length;s<a;s++)l=p[s],f=l.getHsl()[1],h=l.getHsl()[2],f>=e&&f<=i&&h>=r&&h<=n&&!this.isAlreadySelected(l)&&(g=this.createComparisonValue(f,o,h,t,l.getPopulation(),this.maxPopulation),(null===u||g>c)&&(u=l,c=g));return u},r.prototype.createComparisonValue=function(t,r,n,o,e,i){return this.weightedMean(this.invertDiff(t,r),this.opts.weightSaturation,this.invertDiff(n,o),this.opts.weightLuma,e/i,this.opts.weightPopulation)},r.prototype.invertDiff=function(t,r){return 1-Math.abs(t-r)},r.prototype.weightedMean=function(){var t,r,n,o,e,i;for(e=1<=arguments.length?c.call(arguments,0):[],r=0,n=0,t=0;t<e.length;)o=e[t],i=e[t+1],r+=o*i,n+=i,t+=2;return r/n},r.prototype.isAlreadySelected=function(t){return this.VibrantSwatch===t||this.DarkVibrantSwatch===t||this.LightVibrantSwatch===t||this.MutedSwatch===t||this.DarkMutedSwatch===t||this.LightMutedSwatch===t},r}(i)},{"../swatch":20,"../util":21,"./index":12}],12:[function(t,r,n){var o;r.exports=o=function(){function t(){}return t.prototype.generate=function(t){},t.prototype.getVibrantSwatch=function(){},t.prototype.getLightVibrantSwatch=function(){},t.prototype.getDarkVibrantSwatch=function(){},t.prototype.getMutedSwatch=function(){},t.prototype.getLightMutedSwatch=function(){},t.prototype.getDarkMutedSwatch=function(){},t}(),r.exports.Default=t("./default")},{"./default":11}],13:[function(t,r,n){var o,e,i,s,a,h=function(t,r){function n(){this.constructor=t}for(var o in r)u.call(r,o)&&(t[o]=r[o]);return n.prototype=r.prototype,t.prototype=new n,t.__super__=r.prototype,t},u={}.hasOwnProperty;e=t("./index"),i=t("url"),s=function(t){var r;return r=i.parse(t),null===r.protocol&&null===r.host&&null===r.port},a=function(t,r){var n,o;return n=i.parse(t),o=i.parse(r),n.protocol===o.protocol&&n.hostname===o.hostname&&n.port===o.port},r.exports=o=function(t){function r(t,r){"object"==typeof t&&t instanceof HTMLImageElement?(this.img=t,t=this.img.src):(this.img=document.createElement("img"),this.img.src=t),s(t)||a(window.location.href,t)||(this.img.crossOrigin="anonymous"),this.img.onload=function(t){return function(){return t._initCanvas(),"function"==typeof r?r(null,t):void 0}}(this),this.img.complete&&this.img.onload(),this.img.onerror=function(n){return function(n){var o;return o=new Error("Fail to load image: "+t),o.raw=n,"function"==typeof r?r(o):void 0}}(this)}return h(r,t),r.prototype._initCanvas=function(){return this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),document.body.appendChild(this.canvas),this.width=this.canvas.width=this.img.width,this.height=this.canvas.height=this.img.height,this.context.drawImage(this.img,0,0,this.width,this.height)},r.prototype.clear=function(){return this.context.clearRect(0,0,this.width,this.height)},r.prototype.getWidth=function(){return this.width},r.prototype.getHeight=function(){return this.height},r.prototype.resize=function(t,r,n){return this.width=this.canvas.width=t,this.height=this.canvas.height=r,this.context.scale(n,n),this.context.drawImage(this.img,0,0)},r.prototype.update=function(t){return this.context.putImageData(t,0,0)},r.prototype.getPixelCount=function(){return this.width*this.height},r.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)},r.prototype.removeCanvas=function(){return this.canvas.parentNode.removeChild(this.canvas)},r}(e)},{"./index":14,url:1}],14:[function(t,r,n){var o;r.exports=o=function(){function t(){}return t.prototype.clear=function(){},t.prototype.update=function(t){},t.prototype.getWidth=function(){},t.prototype.getHeight=function(){},t.prototype.scaleDown=function(t){var r,n,o,e;if(e=this.getWidth(),r=this.getHeight(),o=1,null!=t.maxDimension?(n=Math.max(e,r),n>t.maxDimension&&(o=t.maxDimension/n)):o=1/t.quality,o<1)return this.resize(e*o,r*o,o)},t.prototype.resize=function(t,r,n){},t.prototype.getPixelCount=function(){},t.prototype.getImageData=function(){},t.prototype.removeCanvas=function(){},t}()},{}],15:[function(t,r,n){var o,e,i,s,a,h,u,c,p;c=p=t("../../util"),u=c.getColorIndex,s=c.SIGBITS,i=c.RSHIFT,a=t("../../swatch"),h=t("./vbox"),e=t("./pqueue"),r.exports=o=function(){function t(t){this.opts=p.defaults(t,this.constructor.DefaultOpts)}return t.DefaultOpts={maxIterations:1e3,fractByPopulations:.75},t.prototype.quantize=function(t,r){var n,o,i,s,u,c,p,f,l;if(0===t.length||r.colorCount<2||r.colorCount>256)throw new Error("Wrong MMCQ parameters");for(c=function(){return!1},Array.isArray(r.filters)&&r.filters.length>0&&(c=function(t,n,o,e){var i,s,a,h;for(h=r.filters,s=0,a=h.length;s<a;s++)if(i=h[s],!i(t,n,o,e))return!0;return!1}),l=h.build(t,c),i=l.hist,o=Object.keys(i).length,s=new e(function(t,r){return t.count()-r.count()}),s.push(l),this._splitBoxes(s,this.opts.fractByPopulations*r.colorCount),u=new e(function(t,r){return t.count()*t.volume()-r.count()*r.volume()}),u.contents=s.contents,this._splitBoxes(u,r.colorCount-u.size()),p=[],this.vboxes=[];u.size();)f=u.pop(),n=f.avg(),("function"==typeof c?c(n[0],n[1],n[2],255):void 0)||(this.vboxes.push(f),p.push(new a(n,f.count())));return p},t.prototype._splitBoxes=function(t,r){var n,o,e,i,s,a,h;for(n=1,o=0,e=this.opts.maxIterations;o<e;)if(o++,s=t.pop(),s.count()&&(i=s.split(),a=i[0],h=i[1],t.push(a),h&&(t.push(h),n++),n>=r||o>e))return},t}()},{"../../swatch":20,"../../util":21,"./pqueue":16,"./vbox":17}],16:[function(t,r,n){var o;r.exports=o=function(){function t(t){this.comparator=t,this.contents=[],this.sorted=!1}return t.prototype._sort=function(){return this.contents.sort(this.comparator),this.sorted=!0},t.prototype.push=function(t){return this.contents.push(t),this.sorted=!1},t.prototype.peek=function(t){return this.sorted||this._sort(),null==t&&(t=this.contents.length-1),this.contents[t]},t.prototype.pop=function(){return this.sorted||this._sort(),this.contents.pop()},t.prototype.size=function(){return this.contents.length},t.prototype.map=function(t){return this.sorted||this._sort(),this.contents.map(t)},t}()},{}],17:[function(t,r,n){var o,e,i,s,a,h;a=h=t("../../util"),s=a.getColorIndex,e=a.SIGBITS,o=a.RSHIFT,r.exports=i=function(){function t(t,r,n,o,e,i,s){this.r1=t,this.r2=r,this.g1=n,this.g2=o,this.b1=e,this.b2=i,this.hist=s}return t.build=function(r,n){var i,a,h,u,c,p,f,l,g,m,v,y,d,b,w,x;for(g=1<<3*e,l=new Uint32Array(g),w=p=h=0,x=f=u=Number.MAX_VALUE,y=r.length/4,m=0;m<y;)d=4*m,m++,b=r[d+0],c=r[d+1],a=r[d+2],i=r[d+3],n(b,c,a,i)||(b>>=o,c>>=o,a>>=o,v=s(b,c,a),l[v]+=1,b>w&&(w=b),b<x&&(x=b),c>p&&(p=c),c<f&&(f=c),a>h&&(h=a),a<u&&(u=a));return new t(x,w,f,p,u,h,l)},t.prototype.invalidate=function(){return delete this._count,delete this._avg,delete this._volume},t.prototype.volume=function(){return null==this._volume&&(this._volume=(this.r2-this.r1+1)*(this.g2-this.g1+1)*(this.b2-this.b1+1)),this._volume},t.prototype.count=function(){var t,r;if(null==this._count){r=this.hist,t=0;for(var n=this.r1;n<=this.r2;n++)for(var o=this.g1;o<=this.g2;o++)for(var e=this.b1;e<=this.b2;e++){var i=s(n,o,e);t+=r[i]}this._count=t}return this._count},t.prototype.clone=function(){return new t(this.r1,this.r2,this.g1,this.g2,this.b1,this.b2,this.hist)},t.prototype.avg=function(){var t,r,n,o,i,a;if(null==this._avg){n=this.hist,i=0,o=1<<8-e,a=r=t=0;for(var h=this.r1;h<=this.r2;h++)for(var u=this.g1;u<=this.g2;u++)for(var c=this.b1;c<=this.b2;c++){var p=s(h,u,c),f=n[p];i+=f,a+=f*(h+.5)*o,r+=f*(u+.5)*o,t+=f*(c+.5)*o}i?this._avg=[~~(a/i),~~(r/i),~~(t/i)]:this._avg=[~~(o*(this.r1+this.r2+1)/2),~~(o*(this.g1+this.g2+1)/2),~~(o*(this.b1+this.b2+1)/2)]}return this._avg},t.prototype.split=function(){var t,r,n,o,e,i,a,h,u,c,p,f,l,g,m,v,y;if(i=this.hist,!this.count())return null;if(1===this.count())return[this.clone()];switch(l=this.r2-this.r1+1,e=this.g2-this.g1+1,r=this.b2-this.b1+1,c=Math.max(l,e,r),t=null,m=v=0,u=null,c){case l:u="r",t=new Uint32Array(this.r2+1);for(var d=this.r1;d<=this.r2;d++){m=0;for(var b=this.g1;b<=this.g2;b++)for(var w=this.b1;w<=this.b2;w++){var x=s(d,b,w);m+=i[x]}v+=m,t[d]=v}break;case e:u="g",t=new Uint32Array(this.g2+1);for(var b=this.g1;b<=this.g2;b++){m=0;for(var d=this.r1;d<=this.r2;d++)for(var w=this.b1;w<=this.b2;w++){var x=s(d,b,w);m+=i[x]}v+=m,t[b]=v}break;case r:u="b",t=new Uint32Array(this.b2+1);for(var w=this.b1;w<=this.b2;w++){m=0;for(var d=this.r1;d<=this.r2;d++)for(var b=this.g1;b<=this.g2;b++){var x=s(d,b,w);m+=i[x]}v+=m,t[w]=v}}for(g=-1,f=new Uint32Array(t.length),a=h=0,p=t.length-1;0<=p?h<=p:h>=p;a=0<=p?++h:--h)n=t[a],g<0&&n>v/2&&(g=a),f[a]=v-n;return y=this,(o=function(r){var n,o,e,i,s,a,h,u,c;for(i=r+"1",s=r+"2",o=y[i],e=y[s],u=y.clone(),c=y.clone(),a=g-o,h=e-g,a<=h?(e=Math.min(e-1,~~(g+h/2)),e=Math.max(0,e)):(e=Math.max(o,~~(g-1-a/2)),e=Math.min(y[s],e));!t[e];)e++;for(n=f[e];!n&&t[e-1];)n=f[--e];return u[s]=e,c[i]=e+1,[u,c]})(u)},t.prototype.contains=function(t){var r,n,e;return e=t[0]>>o,n=t[1]>>o,r=t[2]>>o,e>=this.r1&&e<=this.r2&&n>=this.g1&&n<=this.g2&&r>=this.b1&&r<=this.b2},t}()},{"../../util":21}],18:[function(t,r,n){var o;r.exports=o=function(){function t(){}return t.prototype.initialize=function(t,r){},t.prototype.getQuantizedColors=function(){},t}(),r.exports.MMCQ=t("./mmcq")},{"./mmcq":19}],19:[function(t,r,n){var o,e,i,s,a=function(t,r){function n(){this.constructor=t}for(var o in r)h.call(r,o)&&(t[o]=r[o]);return n.prototype=r.prototype,t.prototype=new n,t.__super__=r.prototype,t},h={}.hasOwnProperty;s=t("../swatch"),i=t("./index"),e=t("./impl/mmcq"),r.exports=o=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return a(r,t),r.prototype.initialize=function(t,r){var n;return this.opts=r,n=new e,this.swatches=n.quantize(t,this.opts)},r.prototype.getQuantizedColors=function(){return this.swatches},r}(i)},{"../swatch":20,"./impl/mmcq":15,"./index":18}],20:[function(t,r,n){var o,e;e=t("./util"),r.exports=o=function(){function t(t,r){this.rgb=t,this.population=r}return t.prototype.hsl=void 0,t.prototype.rgb=void 0,t.prototype.population=1,t.prototype.yiq=0,t.prototype.getHsl=function(){return this.hsl?this.hsl:this.hsl=e.rgbToHsl(this.rgb[0],this.rgb[1],this.rgb[2])},t.prototype.getPopulation=function(){return this.population},t.prototype.getRgb=function(){return this.rgb},t.prototype.getHex=function(){return e.rgbToHex(this.rgb[0],this.rgb[1],this.rgb[2])},t.prototype.getTitleTextColor=function(){return this._ensureTextColors(),this.yiq<200?"#fff":"#000"},t.prototype.getBodyTextColor=function(){return this._ensureTextColors(),this.yiq<150?"#fff":"#000"},t.prototype._ensureTextColors=function(){if(!this.yiq)return this.yiq=(299*this.rgb[0]+587*this.rgb[1]+114*this.rgb[2])/1e3},t}()},{"./util":21}],21:[function(t,r,n){var o,e,i;o={NA:0,PERFECT:1,CLOSE:2,GOOD:10,SIMILAR:50},i=5,e=8-i,r.exports={clone:function(t){var r,n,o;if("object"==typeof t){if(Array.isArray(t))return t.map(function(t){return function(r){return t.clone(r)}}(this));r={};for(n in t)o=t[n],r[n]=this.clone(o);return r}return t},defaults:function(){var t,r,n,o,e,i;for(e={},r=0,o=arguments.length;r<o;r++){t=arguments[r];for(n in t)i=t[n],null==e[n]&&(e[n]=this.clone(i))}return e},hexToRgb:function(t){var r;return r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t),null!=r?[r[1],r[2],r[3]].map(function(t){return parseInt(t,16)}):null},rgbToHex:function(t,r,n){return"#"+((1<<24)+(t<<16)+(r<<8)+n).toString(16).slice(1,7)},rgbToHsl:function(t,r,n){var o,e,i,s,a,h;if(t/=255,r/=255,n/=255,s=Math.max(t,r,n),a=Math.min(t,r,n),e=void 0,h=void 0,i=(s+a)/2,s===a)e=h=0;else{switch(o=s-a,h=i>.5?o/(2-s-a):o/(s+a),s){case t:e=(r-n)/o+(r<n?6:0);break;case r:e=(n-t)/o+2;break;case n:e=(t-r)/o+4}e/=6}return[e,h,i]},hslToRgb:function(t,r,n){var o,e,i,s,a,h;return h=void 0,e=void 0,o=void 0,i=function(t,r,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(r-t)*n:n<.5?r:n<2/3?t+(r-t)*(2/3-n)*6:t},0===r?h=e=o=n:(a=n<.5?n*(1+r):n+r-n*r,s=2*n-a,h=i(s,a,t+1/3),e=i(s,a,t),o=i(s,a,t-1/3)),[255*h,255*e,255*o]},rgbToXyz:function(t,r,n){var o,e,i;return t/=255,
r/=255,n/=255,t=t>.04045?Math.pow((t+.005)/1.055,2.4):t/12.92,r=r>.04045?Math.pow((r+.005)/1.055,2.4):r/12.92,n=n>.04045?Math.pow((n+.005)/1.055,2.4):n/12.92,t*=100,r*=100,n*=100,o=.4124*t+.3576*r+.1805*n,e=.2126*t+.7152*r+.0722*n,i=.0193*t+.1192*r+.9505*n,[o,e,i]},xyzToCIELab:function(t,r,n){var o,e,i,s,a,h;return e=95.047,i=100,s=108.883,t/=e,r/=i,n/=s,t=t>.008856?Math.pow(t,1/3):7.787*t+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,o=116*r-16,a=500*(t-r),h=200*(r-n),[o,a,h]},rgbToCIELab:function(t,r,n){var o,e,i,s;return o=this.rgbToXyz(t,r,n),e=o[0],i=o[1],s=o[2],this.xyzToCIELab(e,i,s)},deltaE94:function(t,r){var n,o,e,i,s,a,h,u,c,p,f,l,g,m,v,y,d,b,w,x;return s=1,e=1,i=1,n=t[0],a=t[1],u=t[2],o=r[0],h=r[1],c=r[2],p=n-o,f=a-h,l=u-c,g=Math.sqrt(a*a+u*u),m=Math.sqrt(h*h+c*c),b=o-n,v=m-g,y=Math.sqrt(p*p+f*f+l*l),d=Math.sqrt(y)>Math.sqrt(Math.abs(b))+Math.sqrt(Math.abs(v))?Math.sqrt(y*y-b*b-v*v):0,w=1+.045*g,x=1+.015*g,b/=s,v/=e*w,d/=i*x,Math.sqrt(b*b+v*v+d*d)},rgbDiff:function(t,r){var n,o;return n=this.rgbToCIELab.apply(this,t),o=this.rgbToCIELab.apply(this,r),this.deltaE94(n,o)},hexDiff:function(t,r){var n,o;return n=this.hexToRgb(t),o=this.hexToRgb(r),this.rgbDiff(n,o)},DELTAE94_DIFF_STATUS:o,getColorDiffStatus:function(t){return t<o.NA?"N/A":t<=o.PERFECT?"Perfect":t<=o.CLOSE?"Close":t<=o.GOOD?"Good":t<o.SIMILAR?"Similar":"Wrong"},SIGBITS:i,RSHIFT:e,getColorIndex:function(t,r,n){return(t<<2*i)+(r<<i)+n}}},{}],22:[function(t,r,n){var o,e,i,s,a,h,u=function(t,r){return function(){return t.apply(r,arguments)}};s=t("./swatch"),h=t("./util"),e=t("./generator").Default,i=t("./filter"),r.exports=a=function(){function r(t,r){this.sourceImage=t,null==r&&(r={}),this.swatches=u(this.swatches,this),this.opts=h.defaults(r,this.constructor.DefaultOpts),this.generator=this.opts.generator}return r.DefaultOpts={colorCount:16,quality:5,generator:new e,Image:null,Quantizer:t("./quantizer").MMCQ,filters:[]},r.from=function(t){return new o(t)},r.prototype.quantize=t("quantize"),r.prototype._swatches=[],r.prototype.getPalette=function(t){var r;return r=new this.opts.Image(this.sourceImage,function(r){return function(n,o){var e;if(null!=n)return t(n);try{return r._process(o,r.opts),t(null,r.swatches())}catch(i){return e=i,t(e)}}}(this))},r.prototype.getSwatches=function(t){return this.getPalette(t)},r.prototype._process=function(t,r){var n,o;return t.scaleDown(this.opts),n=t.getImageData(),o=new this.opts.Quantizer,o.initialize(n.data,this.opts),this.all_swatches=o.getQuantizedColors(),t.removeCanvas()},r.prototype.swatches=function(){return this.all_swatches},r}(),r.exports.Builder=o=function(){function t(t,r){this.src=t,this.opts=null!=r?r:{},this.opts.filters=h.clone(a.DefaultOpts.filters)}return t.prototype.maxColorCount=function(t){return this.opts.colorCount=t,this},t.prototype.maxDimension=function(t){return this.opts.maxDimension=t,this},t.prototype.addFilter=function(t){return"function"==typeof t&&this.opts.filters.push(t),this},t.prototype.removeFilter=function(t){var r;return(r=this.opts.filters.indexOf(t))>0&&this.opts.filters.splice(r),this},t.prototype.clearFilters=function(){return this.opts.filters=[],this},t.prototype.quality=function(t){return this.opts.quality=t,this},t.prototype.useImage=function(t){return this.opts.Image=t,this},t.prototype.useGenerator=function(t){return this.opts.generator=t,this},t.prototype.useQuantizer=function(t){return this.opts.Quantizer=t,this},t.prototype.build=function(){return null==this.v&&(this.v=new a(this.src,this.opts)),this.v},t.prototype.getSwatches=function(t){return this.build().getPalette(t)},t.prototype.getPalette=function(t){return this.build().getPalette(t)},t.prototype.from=function(t){return new a(t,this.opts)},t}(),r.exports.Util=h,r.exports.Swatch=s,r.exports.Quantizer=t("./quantizer/"),r.exports.Generator=t("./generator/"),r.exports.Filter=t("./filter/")},{"./filter":10,"./filter/":10,"./generator":12,"./generator/":12,"./quantizer":18,"./quantizer/":18,"./swatch":20,"./util":21,quantize:3}]},{},[8]);